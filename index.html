<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Future Retreat 2025</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      :root {
        --primary-green: #10b981;
        --light-green: #34d399;
        --dark-green: #065f46;
        --bg-color: #111827;
        --text-color: #f9fafb;
        --card-bg: rgba(17, 24, 39, 0.7);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Inter", sans-serif;
      }

      body {
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
      }

      .gradient-text {
        background: linear-gradient(135deg, var(--light-green), #60a5fa);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .background-slideshow {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
      }

      .background-slideshow::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at center,
          rgba(17, 24, 39, 0.7) 0%,
          rgba(17, 24, 39, 0.95) 100%
        );
      }

      .background-slideshow img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        transition: opacity 1s ease-in-out;
      }

      .announcement-bar {
        width: 100%;
        padding: 0.75rem;
        background: rgba(17, 24, 39, 0.9);
        backdrop-filter: blur(10px);
        position: fixed;
        top: 0;
        z-index: 100;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .pill {
        background: var(--primary-green);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.875rem;
        font-weight: 500;
      }

      .container {
        max-width: 1200px;
        margin: 4rem auto 0;
        padding: 1.5rem;
      }

      .hero {
        min-height: 90vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 4rem 1rem;
      }

      .hero h1 {
        font-size: 4rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        line-height: 1.1;
      }

      .hero p {
        font-size: 1.25rem;
        max-width: 600px;
        margin-bottom: 2rem;
        color: #9ca3af;
      }

      .section {
        margin: 8rem 0;
        position: relative;
      }

      .section-header {
        margin-bottom: 3rem;
        text-align: center;
      }

      .section-header h2 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
      }

      .glass-card {
        background: rgba(17, 24, 39, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 1rem;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .glass-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      .image-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }

      .image-card {
        position: relative;
        aspect-ratio: 3/4;
      }

      .image-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 1rem;
        transition: transform 0.5s ease;
      }

      .image-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
        padding: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 1rem;
      }

      .image-card:hover .image-overlay {
        opacity: 1;
      }

      .image-card:hover img {
        transform: scale(1.05);
      }

      .activities {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }

      .activity-card {
        padding: 2rem;
      }

      .form-container {
        max-width: 600px;
        margin: 0 auto;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
      }

      input,
      textarea {
        width: 100%;
        padding: 0.75rem 1rem;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.5rem;
        color: var(--text-color);
        font-size: 1rem;
        transition: border-color 0.3s ease;
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: var(--primary-green);
        box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
      }

      button {
        background: var(--primary-green);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
      }

      .options-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 0.5rem;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
      }

      .checkbox-label input[type="checkbox"] {
        width: auto;
        cursor: pointer;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin: 4rem 0;
      }

      .stat-card {
        text-align: center;
        padding: 2rem;
      }

      .stat-number {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .stat-label {
        color: #9ca3af;
        font-size: 1.125rem;
      }

      @media (max-width: 768px) {
        .hero h1 {
          font-size: 2.5rem;
        }

        .section {
          margin: 4rem 0;
        }

        .section-header h2 {
          font-size: 2rem;
        }

        .stats {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="background-slideshow">
      <img src="/img/img1.jpg" alt="Space 1" />
      <img src="/img/img6.jpg" alt="Space 2" />
      <img src="/img/img1.jpg" alt="Space 3" />
    </div>

    <div class="announcement-bar">
      <span class="pill"
        >Available Spots: <span id="spotsAvailable">Loading...</span></span
      >
      <span>Reserve your space for this transformative experience</span>
    </div>

    <div class="container">
      <section class="hero">
        <p>Feb 17th, 2025 - Feb 20th, 2025</p>
        <h1>
          <span class="gradient-text">FIZZ/FUZE PRESENTS:</span>
          <br />BURNOUT 2025
        </h1>
        <p>We LOVE you. Come recompress.</p>
        <p>Skip the BURN. Sunscreen included.</p>
        <p>Application extra. ;)</p>
<button onclick="window.location.href='https://partiful.com/e/AEKp5qzQBHgXdhsHKXcy'">RSVP HERE</button>
      </section>

      <section class="section">
        <div class="section-header">
          <h2>Retreat Overview</h2>
        </div>
        <div class="stats">
          <div class="stat-card glass-card">
            <div class="stat-number gradient-text">3</div>
            <div class="stat-label">Days of Retreat</div>
          </div>
          <div class="stat-card glass-card">
            <div class="stat-number gradient-text">20</div>
            <div class="stat-label">Limited Attendees</div>
          </div>
          <div class="stat-card glass-card">
            <div class="stat-number gradient-text">12</div>
            <div class="stat-label">Unique Activities</div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="section-header">
          <h2>Tune Much Future</h2>
        </div>
        <div class="image-grid">
          <div class="image-card glass-card">
            <img src="/img/img4.jpg" alt="Luxury Pool" />
            <div class="image-overlay">
              <h3>Luxury Pool</h3>
              <p>Skinny dipping at sunset AND sunrise!</p>
            </div>
          </div>
          <div class="image-card glass-card">
            <img src="/img/img2.jpg" alt="Basketball Court" />
            <div class="image-overlay">
              <h3>Basketball Court</h3>
              <p>Ever hear of a game called HORSE? Wait until our twisk.</p>
            </div>
          </div>
          <div class="image-card glass-card">
            <img src="/img/img5.jpg" alt="Living Quarters" />
            <div class="image-overlay">
              <h3>Living Quarters</h3>
              <p>Tons of beds. Will we even need that many?</p>
            </div>
          </div>
        </div>
        <div class="image-grid">
          <div class="image-card glass-card">
            <img src="/img/bill.jpg" alt="Luxury Pool" />
            <div class="image-overlay">
              <h3>Billiards</h3>
              <p>You know the Cue. 8 or 9?</p>
            </div>
          </div>
          <div class="image-card glass-card">
            <img src="/img/img3.jpg" alt="Basketball Court" />
            <div class="image-overlay">
              <h3>Chef And The House</h3>
              <p>Caution: Decks may be hot.</p>
            </div>
          </div>
          <div class="image-card glass-card">
            <img src="/img/ping.jpg" alt="Living Quarters" />
            <div class="image-overlay">
              <h3>Ping Pong</h3>
              <p>Bring your own paddles. Balls provided.</p>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="section-header">
          <h2>Activities</h2>
        </div>
        <div class="activities">
          <div class="activity-card glass-card">
            <h3>Morning Meditation</h3>
            <p>Begin each day with guided meditation sessions.</p>
          </div>
          <div class="activity-card glass-card">
            <h3>Mario Star Meals</h3>
            <p>An upscale chef will be serving hobbit meals each day</p>
          </div>
          <div class="activity-card glass-card">
            <h3>S'more's Making Workshop</h3>
            <p>Learn the art of the s'more.</p>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="section-header">
          <h2>Reserve Your Spot</h2>
        </div>
        <div class="form-container">
          <form class="glass-card" style="padding: 2rem">
            <div class="form-group">
              <label for="name">Full Name</label>
              <input type="text" id="name" required />
            </div>
            <div class="form-group">
              <label for="email">Email Address</label>
              <input type="email" id="email" required />
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" required />
            </div>
            <div class="form-group">
              <label>Options</label>
              <div class="options-grid">
                <label class="checkbox-label">
                  <input type="checkbox" id="optionVegan" />
                  Vegan Meal Preference
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="optionAccommodation" />
                  Need Accommodation
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="optionTransport" />
                  Need Transport
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="optionEarlyArrival" />
                  Early Arrival
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="optionLateDeparture" />
                  Late Departure
                </label>
                <label class="checkbox-label">
                  <input type="checkbox" id="optionMeditation" />
                  Join Meditation Sessions
                </label>
              </div>
            </div>
            <div class="form-group">
              <label for="message">Additional Notes</label>
              <textarea id="message" rows="4"></textarea>
            </div>
<button onclick="window.location.href='https://partiful.com/e/AEKp5qzQBHgXdhsHKXcy'">RSVP HERE</button>
          </form>
        </div>
      </section>
    </div>

    <script>
      // Background slideshow
      const backgrounds = document.querySelectorAll(
        ".background-slideshow img"
      );
      let currentBg = 0;

      function changeBackground() {
        backgrounds.forEach((bg) => (bg.style.opacity = "0"));
        backgrounds[currentBg].style.opacity = "1";
        currentBg = (currentBg + 1) % backgrounds.length;
      }

      backgrounds[0].style.opacity = "1";
      setInterval(changeBackground, 5000);

      // Replace with your deployed Google Apps Script URL
      const SCRIPT_URL =
        "https://script.google.com/macros/s/AKfycbwcqkNAYae0-go42w5FCOcBc5Euw74dyANZq9yNInO33nAz5cxV8DkPp_RB4A67MSU/exec";

      async function fetchAvailableSpots() {
        try {
          const proxyUrl = "https://corsproxy.io/?";
          const response = await fetch(
            proxyUrl + encodeURIComponent(SCRIPT_URL),
            {
              method: "GET",
              headers: {
                "Content-Type": "application/json",
              },
            }
          );
          const spots = await response.text();

          // Update the spots display
          const spotsElement = document.getElementById("spotsAvailable");
          spotsElement.textContent = spots;

          // Update form state
          const form = document.querySelector("form");
          const submitButton = form.querySelector('button[type="submit"]');
          if (parseInt(spots) <= 0) {
            submitButton.disabled = true;
            submitButton.textContent = "No Spots Available";
          }
        } catch (error) {
          console.error("Error fetching available spots:", error);
          document.getElementById("spotsAvailable").textContent = "Error";
        }
      }

      function handleSpots(response) {
        try {
          const spotsElement = document.getElementById("spotsAvailable");
          spotsElement.textContent = response;

          // Update form state
          const form = document.querySelector("form");
          const submitButton = form.querySelector('button[type="submit"]');
          if (parseInt(response) <= 0) {
            submitButton.disabled = true;
            submitButton.textContent = "No Spots Available";
          }
        } catch (error) {
          console.error("Error handling spots:", error);
          document.getElementById("spotsAvailable").textContent = "Error";
        }
      }

      // Fetch spots initially and every minute
      fetchAvailableSpots();
      setInterval(fetchAvailableSpots, 60000);

      // Handle form submission
      document
        .querySelector("form")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const submitButton = this.querySelector('button[type="submit"]');
          submitButton.disabled = true;
          submitButton.textContent = "Submitting...";

          try {
            const formData = {
              name: document.getElementById("name").value,
              email: document.getElementById("email").value,
              phone: document.getElementById("phone").value,
              optionVegan: document.getElementById("optionVegan").checked,
              optionAccommodation: document.getElementById(
                "optionAccommodation"
              ).checked,
              optionTransport:
                document.getElementById("optionTransport").checked,
              optionEarlyArrival:
                document.getElementById("optionEarlyArrival").checked,
              optionLateDeparture: document.getElementById(
                "optionLateDeparture"
              ).checked,
              optionMeditation:
                document.getElementById("optionMeditation").checked,
              message: document.getElementById("message").value,
            };

            const response = await fetch(SCRIPT_URL, {
              method: "POST",
              body: JSON.stringify(formData),
            });

            const result = await response.json();

            if (result.success) {
              if (result.type === "registration") {
                alert(
                  "Thank you for your registration! Your spot has been confirmed."
                );
              } else {
                alert(
                  `All spots are currently full. You have been added to the waitlist at position ${result.waitlistPosition}. We will contact you if a spot becomes available.`
                );
              }
              this.reset();
              fetchAvailableSpots();
            } else {
              alert(result.message || "Error submitting registra");
            }
          } catch (error) {
            console.error("Error:", error);
            alert("Error submitting registration. Please try again.");
          } finally {
            submitButton.disabled = false;
            submitButton.textContent = "Reserve Your Spot";
          }
        });
    </script>
  </body>
</html>
